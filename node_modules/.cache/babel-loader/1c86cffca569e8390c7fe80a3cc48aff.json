{"ast":null,"code":"import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar randomString = function randomString(len) {\n  var charSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"abcdefghijklmnopqrstuvwxyz\";\n  var randomString = \"\";\n\n  for (var i = 0; i < len; i++) {\n    var randomPoz = Math.floor(Math.random() * charSet.length);\n    randomString += charSet.substring(randomPoz, randomPoz + 1);\n  }\n\n  return randomString;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar ReactImageTooltip = function (_Component) {\n  inherits(ReactImageTooltip, _Component);\n\n  function ReactImageTooltip() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, ReactImageTooltip);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = ReactImageTooltip.__proto__ || Object.getPrototypeOf(ReactImageTooltip)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      display: false,\n      clientX: 0,\n      clientY: 0\n    }, _this.uniqueClassName = randomString(4), _this.toogleImage = function () {\n      _this.setState(function (prevState) {\n        return {\n          display: !prevState.display\n        };\n      });\n    }, _this.handleMouseOver = function (event) {\n      var clientX = event.clientX,\n          clientY = event.clientY;\n\n      _this.setState({\n        clientX: clientX,\n        clientY: clientY,\n        display: true\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(ReactImageTooltip, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          image = _props.image,\n          width = _props.width,\n          height = _props.height;\n      var _state = this.state,\n          display = _state.display,\n          clientY = _state.clientY,\n          clientX = _state.clientX;\n      return React.createElement(React.Fragment, null, React.createElement(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: \"\\n            .\" + this.uniqueClassName + \":after {\\n              visibility: \" + (display ? \"visible\" : \"hidden\") + \";\\n              opacity: \" + (display ? \"1\" : \"0\") + \";\\n              top: \" + (clientY - 50) + \"px;\\n              left: \" + (clientX - 50) + \"px;\\n            }\\n          \"\n        }\n      }), React.createElement(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: \"\\n            .\" + this.uniqueClassName + \":after {\\n              background-image: url(\" + image + \");\\n              width: \" + (width ? width + \"px\" : \"300px\") + \";\\n              height: \" + (height ? height + \"px\" : \"100%\") + \";\\n              pointer-events: none;\\n              position: fixed;\\n              background-size: contain;\\n              background-repeat: no-repeat;\\n              z-index: -1;\\n              content: \\\"\\\";\\n            }\\n          }\\n          \"\n        }\n      }), React.createElement(\"span\", {\n        onMouseEnter: function onMouseEnter() {\n          return _this2.toogleImage();\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this2.toogleImage();\n        },\n        onMouseMoveCapture: this.handleMouseOver,\n        onTouchStart: function onTouchStart() {\n          return _this2.setState({\n            display: false\n          });\n        },\n        className: this.uniqueClassName\n      }, children));\n    }\n  }]);\n  return ReactImageTooltip;\n}(Component);\n\nReactImageTooltip.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  image: PropTypes.string.isRequired,\n  width: PropTypes.number,\n  height: PropTypes.number\n};\nexport default ReactImageTooltip;","map":{"version":3,"sources":["../src/utils.js","../src/index.js"],"names":["randomString","charSet","i","randomPoz","Math","ReactImageTooltip","Component","propTypes","PropTypes","number","state","uniqueClassName","toogleImage","prevState","display","handleMouseOver","clientX","clientY","event","children","image","width","height"],"mappings":";;;AAAO,IAAMA,YAAAA,GAAe,SAAA,YAAA,CAAA,GAAA,EAAiD;MAA3CC,OAA2C,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAjC,4B;MACtCD,YAAAA,GAAJ,E;;OACK,IAAIE,CAAAA,GAAT,C,EAAgBA,CAAAA,GAAhB,G,EAAyBA,CAAzB,E,EAA8B;QACxBC,SAAAA,GAAYC,IAAAA,CAAAA,KAAAA,CAAWA,IAAAA,CAAAA,MAAAA,KAAgBH,OAAAA,CAA3C,MAAgBG,C;oBACAH,OAAAA,CAAAA,SAAAA,CAAAA,SAAAA,EAA6BE,SAAAA,GAA7C,CAAgBF,C;;;SAElB,Y;AANK,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICKcI,iBAAAA,GAAAA,UAAAA,UAAAA,EAAAA;;;;;;;;;;;;;;2MAQnBK,K,GAAQ;eAAA,KAAA;eAAA,CAAA;eAGG;AAHH,K,QAMRC,e,GAAkBX,YAAAA,CAAAA,CAAAA,C,EAAAA,KAAAA,CAElBY,WAFkBZ,GAEJ,YAAM;YAClB,Q,CAAc,UAAA,SAAA,EAAA;eAAc;mBACjB,CAACa,SAAAA,CAAUC;AADM,S;AAA5B,O;aAKFC,e,GAAkB,UAAA,KAAA,EAAS;UACjBC,OADiB,GACIE,KADJ,CAAA,O;UACRD,OADQ,GACIC,KADJ,CAAA,O;;YAEzB,Q,CAAc;iBAAA,OAAA;iBAAA,OAAA;iBAGH;AAHG,O;;;;;;6BAOP;;;mBACoC,KADpC,K;UACCC,QADD,GAAA,MAAA,CAAA,Q;UACWC,KADX,GAAA,MAAA,CAAA,K;UACkBC,KADlB,GAAA,MAAA,CAAA,K;UACyBC,MADzB,GAAA,MAAA,CAAA,M;mBAE+B,KAF/B,K;UAECR,OAFD,GAAA,MAAA,CAAA,O;UAEUG,OAFV,GAAA,MAAA,CAAA,O;UAEmBD,OAFnB,GAAA,MAAA,CAAA,O;aAKL,KAAA,CAAA,aAAA,C,KAAA,CAAA,QAAA,E,IAAA,E;iCAE6B;sCAEpB,KADH,e,GAAA,sC,IAEgBF,OAAAA,GAAAA,SAAAA,GAFhB,Q,IAAA,4B,IAGaA,OAAAA,GAAAA,GAAAA,GAHb,G,IAAA,wB,IAISG,OAAAA,GAJT,E,IAAA,2B,IAKUD,OAAAA,GALV,E,IAAA;AADuB;QAF7B,E;iCAc6B;sCAEpB,KADH,e,GAAA,gD,GAAA,K,GAAA,2B,IAGWK,KAAAA,GAAWA,KAAXA,GAAAA,IAAAA,GAHX,O,IAAA,2B,IAIYC,MAAAA,GAAYA,MAAZA,GAAAA,IAAAA,GAJZ,M,IAAA;AADuB;QAd7B,E;sBAgCkB,SAAA,YAAA,GAAA;iBAAM,MAAA,CAAN,WAAM,E;AADtB,S;sBAEgB,SAAA,YAAA,GAAA;iBAAM,MAAA,CAAN,WAAM,E;AAFtB,S;4BAGsB,KAHtB,e;sBAIgB,SAAA,YAAA,GAAA;iBAAM,MAAA,CAAA,QAAA,CAAc;AAAER,YAAAA,OAAAA,EAAtB;AAAoB,WAAd,C;AAJtB,S;mBAKa,KAAKH;kBApCpB,C;;;;CApCeN,CAA0BC,SAA1BD,C;;AAAAA,iBAAAA,CACZE,SADYF,GACA;YACPG,SAAAA,CAAAA,SAAAA,CAAoB,CAACA,SAAAA,CAAD,MAAA,EAAmBA,SAAAA,CADhC,MACa,CAApBA,CADO;SAEVA,SAAAA,CAAAA,MAAAA,CAFU,UAAA;SAGVA,SAAAA,CAHU,MAAA;UAITA,SAAAA,CAAUC;AAJD,CADAJ","sourcesContent":["export const randomString = (len, charSet = \"abcdefghijklmnopqrstuvwxyz\") => {\n  let randomString = \"\";\n  for (let i = 0; i < len; i++) {\n    let randomPoz = Math.floor(Math.random() * charSet.length);\n    randomString += charSet.substring(randomPoz, randomPoz + 1);\n  }\n  return randomString;\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { randomString } from \"./utils\";\n\nexport default class ReactImageTooltip extends Component {\n  static propTypes = {\n    children: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    image: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number\n  };\n\n  state = {\n    display: false,\n    clientX: 0,\n    clientY: 0\n  };\n\n  uniqueClassName = randomString(4);\n\n  toogleImage = () => {\n    this.setState(prevState => ({\n      display: !prevState.display\n    }));\n  };\n\n  handleMouseOver = event => {\n    const { clientX, clientY } = event;\n    this.setState({\n      clientX,\n      clientY,\n      display: true\n    });\n  };\n\n  render() {\n    const { children, image, width, height } = this.props;\n    const { display, clientY, clientX } = this.state;\n\n    return (\n      <React.Fragment>\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `\n            .${this.uniqueClassName}:after {\n              visibility: ${display ? \"visible\" : \"hidden\"};\n              opacity: ${display ? \"1\" : \"0\"};\n              top: ${clientY - 50}px;\n              left: ${clientX - 50}px;\n            }\n          `\n          }}\n        />\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `\n            .${this.uniqueClassName}:after {\n              background-image: url(${image});\n              width: ${width ? `${width}px` : \"300px\"};\n              height: ${height ? `${height}px` : \"100%\"};\n              pointer-events: none;\n              position: fixed;\n              background-size: contain;\n              background-repeat: no-repeat;\n              z-index: -1;\n              content: \"\";\n            }\n          }\n          `\n          }}\n        />\n        <span\n          onMouseEnter={() => this.toogleImage()}\n          onMouseLeave={() => this.toogleImage()}\n          onMouseMoveCapture={this.handleMouseOver}\n          onTouchStart={() => this.setState({ display: false })}\n          className={this.uniqueClassName}\n        >\n          {children}\n        </span>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}